var ListView=function(c){var a={relativeFirstIndex:0,relativeLastIndex:0,lastScrollTop:0,inFunc:function(){},outFunc:function(){}};a.init=function(){for(var b=c.children.length,d=0;d<b;++d)if(c.children[d].offsetTop-c.offsetTop<c.offsetHeight)a.relativeLastIndex=d;else break}();a.whenScrollDown=function(){for(var b=a.relativeFirstIndex,d=a.relativeLastIndex,f=c.children.length,e=c.scrollTop,g=c.children;b<f;++b)if(e>g[b].offsetTop+g[b].offsetHeight-c.offsetTop)a.onOut(a.relativeFirstIndex),++a.relativeFirstIndex;
else if(b>d)if(g[b].offsetTop-c.offsetTop<e+c.offsetHeight)++a.relativeLastIndex,a.onIn(a.relativeLastIndex);else break};a.whenScrollUp=function(){for(var b=a.relativeLastIndex,d=a.relativeFirstIndex-1,f=c.scrollTop,e=c.children;0<=b;--b)if(c.offsetHeight+f<e[b].offsetTop-c.offsetTop)a.onOut(a.relativeLastIndex),--a.relativeLastIndex;else if(b<=d)if(f<e[b].offsetTop+e[b].offsetHeight-c.offsetTop)--a.relativeFirstIndex,a.onIn(a.relativeFirstIndex);else break};c.onscroll=function(){setTimeout(function(){c.scrollTop>
a.lastScrollTop?a.whenScrollDown():a.whenScrollUp();a.lastScrollTop=c.scrollTop},10)};return{onIn:function(b){a.onIn=b;return this},onOut:function(b){a.onOut=b;return this}}};
